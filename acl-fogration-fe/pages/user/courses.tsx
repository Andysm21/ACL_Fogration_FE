import React, { useEffect, useState } from "react";
import Layout from "../../components/templates/Layout";
import type { GetServerSideProps, NextPage } from "next";
import Head from "next/head";
import UserCoursesCard from "../../components/molecules/UserCoursesCard";
import HeaderUserCourses from "../../components/organisms/HeaderUserCourses";
import axios from "axios";
// interface Props {
//   data: {
//     song: string;
//     artist: string;
//     year: string;
//   }[];
// }

const courses: NextPage = () => {
  var [CourseArray,setCourseArray]=useState([]);
  localStorage.setItem("isCorp","1")

  
  function getCourses(){
     axios.get("http://localhost:8000/viewCoursesCorporate"
    ).then((response) => {
      console.log("Hello")
      console.log(response.data)
      setCourseArray(response.data)
    }).catch((error) => console.log(error))
  }
  
  var x =useEffect(() =>{getCourses()},[])



  return (
    <div className="bg-bc h-screen">
      <Head>
        <title>Courses</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <Layout>
        <div>
          <HeaderUserCourses/>
          <UserCoursesCard courses={CourseArray}/>
        </div>
      </Layout>
    </div>
  );
};

// export const getServerSideProps: GetServerSideProps<Props> = async (ctx) => {
//   const data = [
//     {
//       song: 'The Sliding',
//       artist: 'The Beatles',
//       year: '1967',
//     },
//     {
//       song: 'Witchy Woman',
//       artist: 'The Beatles',
//       year: '1967',
//     },
//   ];

//   return {
//     props: {
//       data,
//     },
//   };
// };

export default courses;
